<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-G4ETCF6QL5"
    ></script>
    <!-- Bootstrap -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
      integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css"
      integrity="sha512-NhSC1YmyruXifcj/KFRWoC561YpHpc5Jtzgvbuzx5VozKpWvQ+4nXhPdFgmx8xqexRcpAglTj9sIBWINXa8x5w=="
      crossorigin="anonymous"
    />
    <script
      src="https://kit.fontawesome.com/432fa54d25.js"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/fabric.js/4.2.0/fabric.min.js"
      integrity="sha512-Pdu3zoEng2TLwwjnDne3O7zaeWZfEJHU5B63T+zLtME/wg1zfeSH/1wrtOzOC37u2Y1Ki8pTCdKsnbueOlFlMg=="
      crossorigin="anonymous"
    ></script>
    <link rel="stylesheet" href="./assets/css/style.css" />
    <link rel="stylesheet" href="./assets/css/shepherd.css" />

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <style></style>

    <title>OCS4 Sizer</title>
    <!-- <script type="text/javascript" src="http://livejs.com/live.js"></script> -->
  </head>

  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div class="header">
      <div class="logo"></div>
      <div class="text">
        <h2>
          <span class="light">OCS</span>
          Sizing Tool
        </h2>
      </div>
      <div class="faq-link">
        <a href="./faq.html" target="_blank"
          ><i class="fas fa-external-link-alt"></i> FAQ</a
        >
      </div>
    </div>
    <div class="container mw-100">
      <div class="row justify-content-md-center p-3">
        <div
          id="supportExceptionWarning"
          class="header--content header--warn medium d-none w-100"
        >
          This cluster is not within the regular support limits. You will need a
          support exception!<br />
          <div class="row justify-content-md-center">
            <div class="col-">
              Check the
              <a
                style="background-color: white"
                href="https://access.redhat.com/articles/5001441"
                >support matrix</a
              >
              or&nbsp;
            </div>
            <div class="col-" id="supportExceptionLink">
              open a support exception ticket
            </div>
          </div>
          <div id="supportExceptionAccordion" class="pt-3"></div>
        </div>
        <div class="my-2 p-3 bg-dark text-white medium w-100">
          This tool can be used to take the expected cluster size and building
          block parameters and tell you how you need to set up your nodes to get
          the desired cluster capacity.<br />
          You will also get relevant SKU information to know how much this will
          cost you.
        </div>
      </div>
      <div class="body-container">
        <div class="body-lhs">
          <div class="content-body">
            <div id="platformGroup" class="form-group">
              <p class="medium">Platform</p>
              <select id="platform" class="custom-select">
                <option value="metal">Bare Metal</option>
                <option value="awsAttached">
                  AWS i3en.2xl using local NVMe
                </option>
                <option value="awsEBS">AWS m5 nodes using EBS</option>
                <option value="gcp">GCP with e2-standard-16 instances</option>
                <option value="azure">Azure with D16s_v3 instances</option>
                <option value="vm">VMs in VMware</option>
                <option value="vmPreview">VMs in RHV & OpenStack</option>
              </select>
            </div>

            <div class="form-group manualNode d-none">
              <p class="medium">Node CPU unit count</p>
              <select id="nodeCPU" class="custom-select">
                <option value="8">8</option>
                <option value="16">16</option>
                <option value="32" selected="selected">32</option>
                <option value="48">48</option>
              </select>
            </div>

            <div class="form-group manualNode d-none">
              <p class="medium">Node memory in GB</p>
              <select id="nodeMemory" class="custom-select">
                <option value="8">8</option>
                <option value="16">16</option>
                <option value="32">32</option>
                <option value="64" selected="selected">64</option>
                <option value="96">96</option>
                <option value="128">128</option>
              </select>
            </div>

            <div id="diskSizeGroup" class="form-group">
              <label for="diskSizeRange" class="medium"
                >Flash Disk Size (TB)</label
              >
              <div class="input-group mb-3">
                <input
                  type="range"
                  class="form-control-range range-controller"
                  min="0.5"
                  max="16"
                  step="0.1"
                  value="4"
                  id="diskSizeRange"
                />
                <div class="input-group-append">
                  <span id="diskSizeRangeValue" class="input-group-text"></span>
                </div>
              </div>
            </div>

            <!-- <div class="form-group">
                        <label for="diskSpeedValue" class="medium">Disk Write IOPs</label>
                        <input type="text" id="diskSpeedValue" class="form-control " placeholder="Auto-calculated"
                            disabled />
                    </div> -->

            <div id="clusterSizeGroup" class="form-group">
              <label for="capacityRange" class="medium"
                >Usable capacity required (TB)</label
              >
              <div class="input-group mb-3">
                <input
                  type="range"
                  class="form-control-range"
                  min="2"
                  max="1000"
                  step="1"
                  value="10"
                  id="capacityRange"
                />
                <div class="input-group-append">
                  <span id="capacityRangeValue" class="input-group-text"></span>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="body-rhs">
          <h3 class="header--border">Result</h3>
          <div id="resultScreen" class="result-text"></div>
          <div class="button-bar">
            <button
              id="advancedResultsButton"
              class="btn btn-primary"
              type="button"
              data-toggle="collapse"
              data-target="#advancedResultOutput"
              aria-expanded="false"
              aria-controls="advancedResultOutput"
              style="margin-top: 20px"
            >
              Show advanced output
            </button>
            <button
              id="SKUResultsButton"
              class="btn btn-primary"
              type="button"
              data-toggle="collapse"
              data-target="#SKUOutput"
              aria-expanded="false"
              aria-controls="SKUOutput"
              style="margin-top: 20px"
            >
              Show SKU information
            </button>
            <a
              id="canvasDownloadBtn"
              class="btn btn-primary"
              type="button"
              style="margin-top: 20px"
              >Download as PNG</a
            >
          </div>
          <div class="collapse" id="advancedResultOutput">
            <div id="advancedResultScreen" class="card card-body"></div>
          </div>
          <div class="collapse" id="SKUOutput">
            <div id="SKUScreen" class="card card-body"></div>
          </div>
          <div className="canvas-container">
            <canvas id="canvas" width="200" height="200"></canvas>
          </div>
        </div>
      </div>
    </div>
    <img
      src="assets/Icon-Red_Hat-Hardware-Server_A-A-Red-RGB.png"
      id="img-node"
      style="display: contents; visibility: hidden"
    />
    <img
      src="assets/Icon-Red_Hat-Hardware-Storage-A-Red-RGB.png"
      id="img-storage"
      style="display: contents; visibility: hidden"
    />
    <script
      src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
      integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx"
      crossorigin="anonymous"
    ></script>

    <script>
      let secureRoot = "https://storage.cloud.google.com/sizer.ocs.ninja";
      if (
        !["sizer.ocs.ninja", "storage.googleapis.com"].includes(
          window.location.host
        )
      ) {
        secureRoot = ".";
      } else {
        window.dataLayer = window.dataLayer || [];
        function gtag() {
          dataLayer.push(arguments);
        }
        gtag("js", new Date());

        gtag("config", "G-G4ETCF6QL5");
      }
      const mainBundle = document.createElement("script");
      mainBundle.setAttribute("src", `./main-bundle.js`);
      document.head.appendChild(mainBundle);
      const redHatModifications = document.createElement("script");
      redHatModifications.setAttribute("src", `${secureRoot}/assets/redhat.js`);
      document.head.appendChild(redHatModifications);
    </script>
  </body>
</html>
